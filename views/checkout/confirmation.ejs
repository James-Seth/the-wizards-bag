<%- include('../layouts/header', { title: 'Order Confirmation' }) %>

<div class="container my-5">
    <div class="text-center">
        <h1 class="mb-4 text-success">Thank You for Your Order!</h1>
        <p class="lead">Your order <strong><%= order.orderNumber %></strong> has been placed successfully.</p>
        <p>We have sent a confirmation email to <strong><%= order.customer.email %></strong>.</p>
        <hr>
        <h4>Order Summary</h4>
        <ul class="list-group mb-3">
            <% order.items.forEach(function(item) { %>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <div>
                        <strong><%= item.productName %></strong> <span class="text-muted">x <%= item.quantity %></span>
                    </div>
                    <span>$<%= (item.price * item.quantity).toFixed(2) %></span>
                </li>
            <% }) %>
        </ul>
        <div class="d-flex justify-content-between">
            <span>Subtotal:</span>
            <span>$<%= order.totals.subtotal.toFixed(2) %></span>
        </div>
        <div class="d-flex justify-content-between">
            <span>Tax:</span>
            <span>$<%= order.totals.tax.toFixed(2) %></span>
        </div>
        <div class="d-flex justify-content-between">
            <span>Shipping:</span>
            <span>$<%= order.totals.shipping.toFixed(2) %></span>
        </div>
        <hr>
        <div class="d-flex justify-content-between fw-bold">
            <span>Total:</span>
            <span>$<%= order.totals.total.toFixed(2) %></span>
        </div>
        <hr>
        <a href="/products" class="btn btn-primary mt-3">Continue Shopping</a>
    </div>
</div>

<%- include('../layouts/footer') %>
